# EmotiChat 未实现功能清单
> 最后更新：2025-11-27  
> 剩余功能：约 20%  
> 近期进展：聊天页面与消息组件、渲染设置已完成解耦

---

## 高优先级

### 0. 思维链 LLM 辅助识别（锁定中）
- 状态：存在严重问题，已暂停并锁定，后端不再调用
- 影响：无法自动判断无标签思维链、无法补齐思维链标签
- 后续：等待修复后再开放

### 1. 实时变量系统（浏览器权限）
- 需求：`{{time}}` 精确到分钟；`{{location}}` 省市（需 geolocation）；`{{device_info}}` 设备类型
- 现状：占位符已实现，未接入真实浏览器 API
- 思路：`navigator.geolocation` / `navigator.userAgent` / 前端时间生成

### 2. CSS 完全自定义工具
- 需求：对话界面 CSS 自定义；设置页入口；完全控制视觉样式
- 思路：CSS 编辑器组件；`<style>` 注入；预设主题；语法校验

### 3. 跨平台启动器（GUI + Bash）
- 需求：Windows GUI 启动器；Termux/Linux 通过 `bash start.sh`；共用根 `config.yaml`
- 约束：彻底弃用 .env，所有运行参数从 `config.yaml` 读取（监听/白名单/路径/日志/预留账号密码）
- 思路：封装启动脚本读取 `config/runtime.ts`；GUI 调用同一脚本；添加监听/白名单检查

---

## 中优先级

### 4. 函数调用框架
- 需求：计算器/天气/搜索等工具调用
- 位置：`lib/ai/tools/`
- 思路：工具注册表 → 工具接口 → API 路由集成 → UI 显示结果

### 5. MCP 集成
- 需求：类似 VS Code 扩展管理；项目内可配 JSON；专门 MCP 配置页
- 思路：研究协议 → MCP 客户端 → 配置界面 → 工具调用

### 6. JavaScript 运行时
- 需求：模型做不到的功能通过 JS；输入触发；动态提示词
- 思路：沙箱执行；提供注入/读取 API；脚本编辑器
- 安全：严格隔离

### 7. 正则表达式处理
- 需求：对输入/输出做后处理；可选开关；两种模式（实际修改/视觉修改）
- 思路：规则管理界面；消息处理链挂载；区分输入/输出/显示阶段

### 8. Dev Mode 完善
- 现状：基础功能已有
- 待完备：debug 消息、性能指标、请求/响应格式化、日志过滤与搜索

---

## 低优先级

### 9. 完整项目文档
- 用户指南、API 文档、提示词指引、开发指南、示例配置/角色卡
